<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Crystal Method</title>
<style>
/* Base reset */
* { margin: 0; padding: 0; box-sizing: border-box; }
html, body { width: 100%; height: 100%; font-family: 'Helvetica Neue', sans-serif; color: white; background: black; }

body.noir { background: #000; position: relative; overflow: hidden; }

/* White slash */
#slash { position: absolute; top:0; bottom:0; left:50%; width:8px; background:white; transform:translateX(-50%); z-index:1; }

/* Hero */
#hero { position: relative; z-index:2; text-align:center; padding:60px 20px 40px; }
#hero h1 { font-size:3rem; letter-spacing:2px; }
#hero h2 { font-family: Courier, monospace; font-size:1rem; margin-top:1rem; opacity:0.8; }
#hero p { margin-top:1rem; opacity:0.6; }
#user-input { margin-top:20px; padding:8px 12px; font-size:1rem; width:60%; max-width:400px; }
#ask-btn { margin-left:8px; padding:8px 12px; font-size:1rem; cursor:pointer; }

/* Orchard / fruits */
#orchard { display:flex; justify-content:center; gap:40px; padding:40px 0; flex-wrap:wrap; position:relative; z-index:2; }
.fruit { width:80px; height:80px; cursor:pointer; transition: transform 0.2s; }
.fruit:hover { transform:scale(1.1); }

/* Result */
#result { margin-top:40px; text-align:center; padding:20px; min-height:60px; z-index:2; }
#response-text { font-size:1.4rem; font-family:Courier, monospace; white-space:pre-wrap; }

/* Teal flash */
@keyframes teal-flash { 0%{background:transparent;} 50%{background:rgba(0,255,215,0.3);} 100%{background:transparent;} }
.flash { animation: teal-flash 0.4s ease-out; }

/* Brutal Mode toggle */
.brutal-easter { font-family:Courier; font-size:0.8rem; text-align:center; cursor:pointer; opacity:0.3; margin-top:20px; }
.brutal-active { color:#0ff; font-weight:bold; opacity:1; }
</style>
</head>
<body class="noir">
<div id="slash"></div>

<div id="hero">
<h1>The Crystal Method</h1>
<h2>Feed me something real — your odds, your roast, your truth.</h2>
<p>Click a fruit or type your query below.</p>
<input type="text" id="user-input" placeholder="Ask me something..." />
<button id="ask-btn">Calculate</button>
</div>

<div id="orchard">
<img src="assets/fruit-apple.svg" class="fruit" data-question="job" alt="Job Fruit">
<img src="assets/fruit-pear.svg" class="fruit" data-question="lottery" alt="Lottery Fruit">
<img src="assets/fruit-orange.svg" class="fruit" data-question="life" alt="Life Fruit">
</div>

<div id="result">
<p id="response-text"></p>
</div>

<p id="brutal-toggle" class="brutal-easter">abandon hope?</p>

<script>
const fruitEls = document.querySelectorAll('.fruit');
const responseEl = document.getElementById('response-text');
const userInput = document.getElementById('user-input');
const askBtn = document.getElementById('ask-btn');
const brutalToggle = document.getElementById('brutal-toggle');

let brutalMode = false;

const responses = {
  job: ["Twenty‑one percent.\nStop saying 'synergy.' Shower.", "Forty percent.\nTrade buzzwords for ambition."],
  lottery: ["One in two hundred ninety‑four million.\nCongrats, life wasted."],
  life: ["Depends on coffee intake.\nStart with one cup."],
  ex: ["Nine percent. Stop stalking, then zero."],
  default: ["Zero percent. Next."]
};

const brutalResponses = [
  "Your question is absurd. Think harder.",
  "Even math weeps at this query."
];

function showResponse(text){
  responseEl.textContent = text;
  responseEl.classList.remove('flash');
  void responseEl.offsetWidth;
  responseEl.classList.add('flash');
  // Placeholder for British voice: e.g., new Audio('voices/job.mp3').play();
}

// Fruit click
fruitEls.forEach(el=>{
  el.addEventListener('click', ()=>{
    const key = el.dataset.question;
    let pool = brutalMode ? brutalResponses : (responses[key] || responses.default);
    const resp = pool[Math.floor(Math.random()*pool.length)];
    showResponse(resp);
  });
});

// Input query
askBtn.addEventListener('click', ()=>{
  const query = userInput.value.toLowerCase();
  let resp = responses.default[0];

  if(brutalMode){
    resp = brutalResponses[Math.floor(Math.random()*brutalResponses.length)];
  } else if(query.includes('job')){
    resp = responses.job[Math.floor(Math.random()*responses.job.length)];
  } else if(query.includes('lottery')){
    resp = responses.lottery[0];
  } else if(query.includes('pass') || query.includes('study')){
    resp = "Ninety-seven percent. Wow, Sherlock. Shocking.";
  } else if(query.includes('ex')){
    resp = responses.ex[0];
  } else if(query.includes('life')){
    resp = responses.life[0];
  }

  showResponse(resp);
});

// Brutal Mode toggle
brutalToggle.addEventListener('click', ()=>{
  brutalMode = !brutalMode;
  brutalToggle.classList.toggle('brutal-active', brutalMode);
});
</script>
</body>
  </html>
